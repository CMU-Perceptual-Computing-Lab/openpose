<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenPose: OpenPose Doc - Installation (deprecated)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo_doxygen_black.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenPose
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
   <div id="projectbrief">The first real-time multi-person system to jointly detect human body, hand, facial, and foot keypoints</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_doc_installation_deprecated_installation_deprecated.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">OpenPose Doc - Installation (deprecated) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>NOTE: Do not use this document, see <a class="el" href="md_doc_installation_0_index.html">doc/installation/0_index.md</a> instead. This deprecated installation document is kept just for backwards compatibility, but it should not be used.</p>
<h1><a class="anchor" id="autotoc_md211"></a>
Contents</h1>
<ol type="1">
<li><a href="#operating-systems">Operating Systems</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#clone-openpose">Clone OpenPose</a></li>
<li><a href="#update-openpose">Update OpenPose</a></li>
<li><a href="#ubuntu">Ubuntu</a></li>
<li><a href="#windows">Windows</a></li>
<li><a href="#doxygen-documentation-autogeneration">Doxygen Documentation Autogeneration</a></li>
<li><a href="#custom-caffe">Custom Caffe</a></li>
<li><a href="#compiling-without-cudnn">Compiling without cuDNN</a></li>
</ol>
<h1><a class="anchor" id="autotoc_md212"></a>
Operating Systems</h1>
<p>See <a href="../0_index.md#operating-systems">doc/installation/0_index.md#operating-systems</a>.</p>
<h1><a class="anchor" id="autotoc_md213"></a>
Requirements</h1>
<p>See <a href="../0_index.md#requirements">doc/installation/0_index.md#requirements</a>.</p>
<h1><a class="anchor" id="autotoc_md214"></a>
Clone OpenPose</h1>
<p>See <a href="../0_index.md#clone-openpose">doc/installation/0_index.md#clone-openpose</a>.</p>
<h1><a class="anchor" id="autotoc_md215"></a>
Update OpenPose</h1>
<p>See <a href="../0_index.md#update-openpose">doc/installation/0_index.md#update-openpose</a>.</p>
<h1><a class="anchor" id="autotoc_md216"></a>
Ubuntu</h1>
<h2><a class="anchor" id="autotoc_md217"></a>
Installation - CMake</h2>
<p>Recommended installation method, it is simpler and offers more customization settings. See <a class="el" href="md_doc_installation_0_index.html">doc/installation/0_index.md</a>.</p>
<h2><a class="anchor" id="autotoc_md218"></a>
Prerequisites (Script Compilation or Manual Compilation)</h2>
<p>CUDA, cuDNN, OpenCV and Atlas must be already installed on your machine:</p><ol type="1">
<li><a href="https://developer.nvidia.com/cuda-80-ga2-download-archive">CUDA</a> must be installed. You should reboot your machine after installing CUDA.</li>
<li><a href="https://developer.nvidia.com/cudnn">cuDNN</a>: Once you have downloaded it, just unzip it and copy (merge) the contents on the CUDA folder, e.g., <code>/usr/local/cuda-8.0/</code>. Note: We found OpenPose working ~10% faster with cuDNN 5.1 compared to cuDNN 6. Otherwise, check the section <a href="#compiling-without-cudnn">Compiling without cuDNN</a>.</li>
<li>OpenCV can be installed with <code>apt-get install libopencv-dev</code>. If you have compiled OpenCV 3 by your own, follow <a href="#manual-compilation">Manual Compilation</a>. After both Makefile.config files have been generated, edit them and uncomment the line <code># OPENCV_VERSION := 3</code>. You might alternatively modify all <code>Makefile.config.UbuntuXX</code> files and then run the scripts in step 2.</li>
<li>In addition, OpenCV 3 does not incorporate the <code>opencv_contrib</code> module by default. Assuming you have OpenCV 3 compiled with the contrib module and you want to use it, append <code>opencv_contrib</code> at the end of the line <code>LIBRARIES += opencv_core opencv_highgui opencv_imgproc</code> in the <code>Makefile</code> file.</li>
<li>Atlas can be installed with <code>sudo apt-get install libatlas-base-dev</code>. Instead of Atlas, you can use OpenBLAS or Intel MKL by modifying the line <code>BLAS := atlas</code> in the same way as previously mentioned for the OpenCV version selection.</li>
</ol>
<h2><a class="anchor" id="autotoc_md219"></a>
Installation - Script Compilation</h2>
<p>Build Caffe &amp; the OpenPose library + download the required Caffe models for Ubuntu 14.04 or 16.04 (auto-detected for the script) and CUDA 8: </p><div class="fragment"><div class="line">bash scripts/ubuntu_deprecated/install_caffe_and_openpose_if_cuda8.sh</div>
</div><!-- fragment --><p> <b>Highly important</b>: This script only works with CUDA 8 and Ubuntu 14 or 16. Otherwise, see <a class="el" href="md_doc_installation_0_index.html">doc/installation/0_index.md</a> or <a href="#installation---manual-compilation">Installation - Manual Compilation</a>.</p>
<h2><a class="anchor" id="autotoc_md220"></a>
Installation - Manual Compilation</h2>
<p>Alternatively to the script installation, if you want to use CUDA 7, avoid using sh scripts, change some configuration labels (e.g., OpenCV version), etc., then:</p><ol type="1">
<li>Install the <a href="http://caffe.berkeleyvision.org/installation.html">Caffe prerequisites</a>.</li>
<li>Compile Caffe and OpenPose by running these lines: ``` </li>
</ol>
<h2><a class="anchor" id="autotoc_md221"></a>
Install Caffe</h2>
<p>git submodule update &ndash;init &ndash;recursive &ndash;remote cd 3rdparty/caffe/ </p>
<h1><a class="anchor" id="autotoc_md222"></a>
Select your desired Makefile file (run only one of the next 4 commands)</h1>
<p>cp Makefile.config.Ubuntu14_cuda7.example Makefile.config # Ubuntu 14, cuda 7 cp Makefile.config.Ubuntu14_cuda8.example Makefile.config # Ubuntu 14, cuda 8 cp Makefile.config.Ubuntu16_cuda7.example Makefile.config # Ubuntu 16, cuda 7 cp Makefile.config.Ubuntu16_cuda8.example Makefile.config # Ubuntu 16, cuda 8 </p>
<h1><a class="anchor" id="autotoc_md223"></a>
Change any custom flag from the resulting Makefile.config (e.g., OpenCV 3, Atlas/OpenBLAS/MKL, etc.)</h1>
<h1><a class="anchor" id="autotoc_md224"></a>
Compile Caffe</h1>
<p>make all -j<code>nproc</code> &amp;&amp; make distribute -j<code>nproc</code></p>
<h3><a class="anchor" id="autotoc_md225"></a>
Install OpenPose</h3>
<p>cd ../../models/ bash ./getModels.sh # It just downloads the Caffe trained models cd .. cp scripts/ubuntu/Makefile.example Makefile </p>
<h1><a class="anchor" id="autotoc_md226"></a>
Same file cp command as the one used for Caffe</h1>
<p>cp scripts/ubuntu_deprecated/Makefile.config.Ubuntu14_cuda7.example Makefile.config </p>
<h1><a class="anchor" id="autotoc_md227"></a>
Change any custom flag from the resulting Makefile.config (e.g., OpenCV 3, Atlas/OpenBLAS/MKL, etc.)</h1>
<p>make all -j<code>nproc</code> ```</p>
<p>NOTE: If you want to use your own Caffe distribution, follow the steps on <a href="#custom-caffe">Custom Caffe</a> section and later re-compile the OpenPose library: ``` bash ./install_openpose_if_cuda8.sh ``` Note: These steps only need to be performed once. If you are interested in making changes to the OpenPose library, you can simply recompile it with: ``` make clean make all -j<code>nproc</code> ``<code> **Highly important**: There are 2</code>Makefile.config.Ubuntu##.example` analogous files, one in the main folder and one in <a href="../../../3rdparty/caffe/">3rdparty/caffe/</a>, corresponding to OpenPose and Caffe configuration files respectively. Any change must be done to both files (e.g., OpenCV 3 flag, Atlab/OpenBLAS/MKL flag, etc.). E.g., for CUDA 8 and Ubuntu16: <a href="../../../3rdparty/caffe/Makefile.config.Ubuntu16.example">3rdparty/caffe/Makefile.config.Ubuntu16_cuda8.example</a> and <a href="../../../scripts/ubuntu_deprecated/Makefile.config.Ubuntu16_cuda8.example">scripts/ubuntu_deprecated/Makefile.config.Ubuntu16_cuda8.example</a>.</p>
<h3><a class="anchor" id="autotoc_md228"></a>
Reinstallation</h3>
<p>If you updated some software that our library or 3rdparty use, or you simply want to reinstall it:</p><ol type="1">
<li>Clean the OpenPose and Caffe compilation folders: <div class="fragment"><div class="line">make clean &amp;&amp; cd 3rdparty/caffe &amp;&amp; make clean</div>
</div><!-- fragment --></li>
<li>Repeat the <a href="#installation">Installation</a> steps. You do not need to download the models again.</li>
</ol>
<h3><a class="anchor" id="autotoc_md229"></a>
Uninstallation</h3>
<p>You just need to remove the OpenPose folder, by default called <code>openpose/</code>. E.g., <code>rm -rf openpose/</code>.</p>
<h2><a class="anchor" id="autotoc_md230"></a>
Windows</h2>
<h3><a class="anchor" id="autotoc_md231"></a>
Installation - Library</h3>
<ol type="1">
<li>Install the pre-requisites:<ol type="a">
<li><b>Microsoft Visual Studio (VS) 2015 Enterprise Update 3</b>.<ul>
<li>If <b>Visual Studio 2017 Community</b> is desired, we do not officially support it, but it might be compiled by firstly <a href="https://stackoverflow.com/questions/43745099/using-cuda-with-visual-studio-2017?answertab=active#tab-top">enabling CUDA 8.0 in VS2017</a> or use <b>VS2017 with CUDA 9</b> by checking the <code>.vcxproj</code> file and changing the necessary paths from CUDA 8 to 9.</li>
<li>VS 2015 Enterprise Update 1 will give some compiler errors and VS 2015 Community has not been tested.</li>
</ul>
</li>
<li><a href="https://developer.nvidia.com/cuda-80-ga2-download-archive"><b>CUDA 8</b></a>: Install it on the default location, <code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v8.0</code>. Otherwise, modify the Visual Studio project solution accordingly. Install CUDA 8.0 after Visual Studio 2015 is installed to assure that the CUDA installation will generate all necessary files for VS. If CUDA was already installed, re-install it after installing VS!</li>
<li><a href="https://developer.nvidia.com/cudnn"><b>cuDNN 5.1</b></a>: Once you have downloaded it, just unzip it and copy (merge) the contents on the CUDA folder, <code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v8.0</code>.</li>
</ol>
</li>
</ol>
<h4><a class="anchor" id="autotoc_md232"></a>
CMake Installer</h4>
<p>Recommended installation method, it is simpler and offers more customization settings. See <a class="el" href="md_doc_installation_0_index.html">doc/installation/0_index.md</a>. Note that it is a beta version, post in GitHub any issue you find.</p>
<h4><a class="anchor" id="autotoc_md233"></a>
Deprecated Windows Installer</h4>
<p>Note: This installer will not incorporate any new features, we recommend to use the CMake installer.</p>
<ol type="1">
<li>Download the OpenPose dependencies and models (body, face and hand models) by double-clicking on <code>{openpose_path}\windows\download_3rdparty_and_models.bat</code>. Alternatively, you might prefer to download them manually:<ul>
<li>Models:<ul>
<li><a href="http://vcl.snu.ac.kr/OpenPose/models/pose/coco/pose_iter_440000.caffemodel">COCO model</a>: download in <code>models/pose/coco/</code>.</li>
<li><a href="http://vcl.snu.ac.kr/OpenPose/models/pose/mpi/pose_iter_160000.caffemodel">MPI model</a>: download in <code>models/pose/mpi/</code>.</li>
<li><a href="http://vcl.snu.ac.kr/OpenPose/models/face/pose_iter_116000.caffemodel">Face model</a>: download in <code>models/face/</code>.</li>
<li><a href="http://vcl.snu.ac.kr/OpenPose/models/hand/pose_iter_102000.caffemodel">Hands model</a>: download in <code>models/hand/</code>.</li>
</ul>
</li>
<li>Dependencies:<ul>
<li><a href="http://vcl.snu.ac.kr/OpenPose/3rdparty/windows/caffe_16_2020_11_14.zip">Caffe</a>: Unzip as <code>3rdparty/windows/caffe/</code>.</li>
<li><a href="http://vcl.snu.ac.kr/OpenPose/3rdparty/windows/caffe3rdparty_16_2020_11_14.zip">Caffe dependencies</a>: Unzip as <code>3rdparty/windows/caffe3rdparty/</code>.</li>
<li><a href="http://vcl.snu.ac.kr/OpenPose/3rdparty/windows/opencv_450_v15_2020_11_18.zip">OpenCV 4.2.0</a>: Unzip as <code>3rdparty/windows/opencv/</code>.</li>
</ul>
</li>
</ul>
</li>
<li>Open the Visual Studio project sln file by double-cliking on <code>{openpose_path}\windows\OpenPose.sln</code>.</li>
<li>In order to verify OpenPose is working, try compiling and executing the demo:<ol type="a">
<li>Right click on <code>OpenPoseDemo</code> --&gt; <code>Set as StartUp Project</code>.</li>
<li>Change <code>Debug</code> by <code>Release</code> mode.</li>
<li>Compile it and run it with <code>F5</code> or the green play icon.</li>
</ol>
</li>
<li>If you have a webcam connected, OpenPose will automatically start after being compiled.</li>
<li>In order to use the created exe file from the command line (i.e., outside Visual Studio), you have to:<ol type="a">
<li>Copy all the DLLs located on <code>{openpose_folder}\3rdparty\windows\caffe\bin\</code> on the exe folder: <code>{openpose_folder}\windows\x64\Release</code>.</li>
<li>Copy all the DLLs located on <code>{openpose_folder}\3rdparty\windows\opencv\x64\vc15\bin\</code> on the exe folder: <code>{openpose_folder}\windows\x64\Release</code>.</li>
<li>Open the Windows cmd (Windows button + <code>X</code>, then <code>A</code>).</li>
<li>Go to the OpenPose directory, assuming OpenPose has been downloaded on <code>C:\openpose</code>: <code>cd C:\openpose\</code>.</li>
<li>Run the tutorial commands.</li>
</ol>
</li>
<li>Check OpenPose was properly installed by running it on the default images, video or webcam: <a class="el" href="md_doc_01_demo.html">doc/01_demo.md</a>.</li>
</ol>
<h3><a class="anchor" id="autotoc_md234"></a>
Uninstallation</h3>
<p>You just need to remove the OpenPose or portable demo folder.</p>
<h3><a class="anchor" id="autotoc_md235"></a>
Reinstallation</h3>
<p>If you updated some software that our library or 3rdparty use, or you simply want to reinstall it:</p><ol type="1">
<li>Open the Visual Studio project sln file by double-cliking on <code>{openpose_path}\windows\OpenPose.sln</code>.</li>
<li>Clean the OpenPose project by right-click on &lsquo;Solution 'OpenPose&rsquo;<code>and</code>Clean Solution`.</li>
<li>Compile it and run it with <code>F5</code> or the green play icon.</li>
</ol>
<h2><a class="anchor" id="autotoc_md236"></a>
Doxygen Documentation Autogeneration</h2>
<p>See <a href="../0_index.md#doxygen-documentation-autogeneration-ubuntu-only">doc/installation/0_index.md#doxygen-documentation-autogeneration-ubuntu-only</a>.</p>
<h2><a class="anchor" id="autotoc_md237"></a>
Custom Caffe</h2>
<p>We only modified some Caffe compilation flags and minor details. You can use your own Caffe distribution, these are the files we added and modified:</p>
<ol type="1">
<li>Added files: <code>install_caffe.sh</code>; as well as <code>Makefile.config.Ubuntu14.example</code>, <code>Makefile.config.Ubuntu16.example</code>, <code>Makefile.config.Ubuntu14_cuda_7.example</code> and <code>Makefile.config.Ubuntu16_cuda_7.example</code> (extracted from <code>Makefile.config.example</code>). Basically, you must enable cuDNN.</li>
<li>Edited file: Makefile. Search for "# OpenPose: " to find the edited code. We basically added the C++11 flag to avoid issues in some old computers.</li>
<li>Optional - deleted Caffe file: <code>Makefile.config.example</code>.</li>
<li>In order to link it to OpenPose:<ol type="a">
<li>Run <code>make all &amp;&amp; make distribute</code> in your Caffe version.</li>
<li>Open the OpenPose Makefile config file: <code>./Makefile.config.UbuntuX.example</code> (where X depends on your OS and CUDA version).</li>
<li>Modify the Caffe folder directory variable (<code>CAFFE_DIR</code>) to your custom Caffe <code>distribute</code> folder location in the previous OpenPose Makefile config file.</li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md238"></a>
Compiling without cuDNN</h2>
<p>See <a href="../0_index.md#compiling-without-cudnn">doc/installation/0_index.md#compiling-without-cudnn</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
